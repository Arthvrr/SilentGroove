<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>SilentGroove ğŸ§</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <h1>SilentGroove ğŸ¶</h1>
  <h2 class="subtitle">Listen to unlimited music, for free ğŸ§</h2>
  
  <div class="gallery">
    <div class="track" data-src="musics/jazz.mp3" data-name="1h30 Full Jazz Study">
      <img src="images/jazz.jpg" alt="Jazz Study">
    </div>
    <div class="track" data-src="musics/lakey_inspired.mp3" data-name="33 Songs - Lakey Inspired">
      <img src="images/lakey inspired.jpg" alt="Lakey Inspired">
    </div>
    <div class="track" data-src="musics/lofi_relax.mp3" data-name="2h Lofi Hip Hop Relax">
      <img src="images/lofi girl.png" alt="Lofi Hip Hop">
    </div>
  </div>
  <div class="gallery">
    <div class="track" data-src="musics/city_pop.mp3" data-name="1h City Pop">
      <img src="images/city_pop.jpg" alt="Jazz Study">
    </div>
    <div class="track" data-src="musics/jungle.mp3" data-name="1h Jungle">
      <img src="images/jungle.jpg" alt="Jungle">
    </div>
    <div class="track" data-src="musics/playboi_carti.mp3" data-name="100min Playboi Carti Type Beat">
      <img src="images/playboi_carti.jpg" alt="Lofi Hip Hop">
    </div>
  </div>
  <div class="gallery">
    <div class="track" data-src="musics/spatial_ambiant.mp3" data-name="1h Spatial Ambiant Music">
      <img src="images/spatial_ambiant.jpg" alt="Spatial Ambiant">
    </div>
    <div class="track" data-src="musics/brazil_lofi.mp3" data-name="1h Brazil Lofi">
      <img src="images/brazil_lofi.jpg" alt="Brazil Lofi">
    </div>
    <div class="track" data-src="musics/cloud.mp3" data-name="Cloud Lofi">
      <img src="images/cloud.jpg" alt="Cloud Lofi">
    </div>
  </div>

  <!-- Lecteur audio en bas -->
  <div class="player-bar">
    <div class="player-info">
      <button onclick="togglePlay()">â¯</button>
      <span id="currentTrack">Aucune musique</span>
    </div>
    <div class="controls">
      <span id="currentTime">0:00</span>
      <input type="range" id="progress" value="0" step="1">
      <span id="duration">0:00</span>
    </div>
  </div>

  <!-- Audio tag -->
  <audio id="audioPlayer"></audio>

  <script>
    const player = document.getElementById('audioPlayer');
    const currentTrack = document.getElementById('currentTrack');
    const progress = document.getElementById('progress');
    const currentTime = document.getElementById('currentTime');
    const duration = document.getElementById('duration');

    let isPlaying = false;

    // SÃ©lectionne toutes les images des tracks
    const tracks = document.querySelectorAll('.track');

    tracks.forEach(track => {
      track.addEventListener('click', () => {
        const src = track.dataset.src;
        const name = track.dataset.name;
        playTrack(src, name);
      });
    });

    function playTrack(src, name) {
      player.src = src;
      player.play();
      currentTrack.textContent = name;
      isPlaying = true;
    }

    function togglePlay() {
      if (!player.src) return;

      if (player.paused) {
        player.play();
        isPlaying = true;
      } else {
        player.pause();
        isPlaying = false;
      }
    }

    // Mise Ã  jour de la barre de progression
    player.addEventListener('timeupdate', () => {
      if (!isNaN(player.duration)) {
        progress.max = player.duration;
        progress.value = player.currentTime;

        currentTime.textContent = formatTime(player.currentTime);
        duration.textContent = formatTime(player.duration);
      }
    });

    // Sauter Ã  une autre position avec la barre
    progress.addEventListener('input', () => {
      player.currentTime = progress.value;
    });

    function formatTime(seconds) {
      const min = Math.floor(seconds / 60);
      const sec = Math.floor(seconds % 60).toString().padStart(2, '0');
      return `${min}:${sec}`;
    }
  </script>

</body>
</html>