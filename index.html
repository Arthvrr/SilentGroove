<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SilentGroove ðŸŽ§</title>
<link rel="stylesheet" href="style.css">
<link rel="icon" href="images/logo.ico" type="image/x-icon">
</head>
<body>

<header class="site-header">
    <div class="logo">SilentGroove ðŸŽ¶</div>
    <nav class="nav-links">
        <a href="#" onclick="loadPage('home')">Library</a>
        <a href="#" onclick="loadPage('about')">About</a>
        <a href="#" onclick="loadPage('contact')">Contact</a>
    </nav>
</header>

<main id="main-content"></main>

<div class="player-bar">
    <div class="player-info">
        <button id="playPauseBtn" onclick="togglePlay()">â–¶</button>
        <span id="currentTrack">Aucune musique</span>
    </div>
    <div class="controls">
        <span id="currentTime">0:00</span>
        <input type="range" id="progress" value="0" step="1">
        <span id="duration">0:00</span>
    </div>
</div>
<audio id="audioPlayer"></audio>

<script>
// ---------- Audio Player ----------
const player = document.getElementById('audioPlayer');
const currentTrack = document.getElementById('currentTrack');
const progress = document.getElementById('progress');
const currentTime = document.getElementById('currentTime');
const duration = document.getElementById('duration');
const playPauseBtn = document.getElementById('playPauseBtn');

function togglePlay() {
    if (!player.src) return;
    if (player.paused) player.play();
    else player.pause();
}
player.addEventListener('play', () => playPauseBtn.textContent = 'â¸');
player.addEventListener('pause', () => playPauseBtn.textContent = 'â–¶');
player.addEventListener('timeupdate', () => {
    if (!isNaN(player.duration)) {
        progress.max = player.duration;
        progress.value = player.currentTime;
        currentTime.textContent = formatTime(player.currentTime);
        duration.textContent = formatTime(player.duration);
    }
});
progress.addEventListener('input', () => player.currentTime = progress.value);
function formatTime(seconds) {
    const min = Math.floor(seconds / 60);
    const sec = Math.floor(seconds % 60).toString().padStart(2, '0');
    return `${min}:${sec}`;
}
function playTrack(src, name) {
    player.src = src;
    player.play();
    currentTrack.textContent = name;
}

// ---------- SPA ----------
const mainContent = document.getElementById('main-content');
const tracksData = [
    {src:"musics/jazz.mp3", name:"1h30 Full Jazz Study", img:"images/jazz.jpg"},
    {src:"musics/lakey_inspired.mp3", name:"33 Songs - Lakey Inspired", img:"images/lakey inspired.jpg"},
    {src:"musics/lofi_relax.mp3", name:"2h Lofi Hip Hop Relax", img:"images/lofi girl.png"},
    {src:"musics/city_pop.mp3", name:"1h City Pop", img:"images/city_pop.jpg"},
    {src:"musics/jungle.mp3", name:"1h Jungle", img:"images/jungle.jpg"},
    {src:"musics/playboi_carti.mp3", name:"100min Playboi Carti Type Beat", img:"images/playboi_carti.jpg"},
    {src:"musics/spatial_ambiant.mp3", name:"1h Spatial Ambiant Music", img:"images/spatial_ambiant.jpg"},
    {src:"musics/brazil_lofi.mp3", name:"1h Brazil Lofi", img:"images/brazil_lofi.jpg"},
    {src:"musics/cloud.mp3", name:"Cloud Lofi", img:"images/cloud.jpg"}
];

function loadGallery() {
    const gallery = document.getElementById('gallery-container');
    gallery.className = 'gallery';
    gallery.innerHTML = '';
    tracksData.forEach(track => {
        const div = document.createElement('div');
        div.className = 'track';
        div.dataset.src = track.src;
        div.dataset.name = track.name;
        div.innerHTML = `<img src="${track.img}" alt="${track.name}">`;
        div.addEventListener('click', () => playTrack(track.src, track.name));
        gallery.appendChild(div);
    });
}

function loadPage(page) {
    switch(page) {
        case 'home':
            mainContent.innerHTML = `<h1>Welcome to SilentGroove ðŸŽ§</h1>
                                     <h2 class="subtitle">Listen to unlimited music, for free ðŸŽ§</h2>
                                     <div class="gallery" id="gallery-container"></div>`;
            loadGallery();
            break;
        case 'about':
            mainContent.innerHTML = `
                                    <h1>About SilentGroove ðŸŽ§</h1>
                                    <p class="about-text">All the music on SilentGroove comes from royalty-free YouTube videos, carefully selected to provide you with relaxing, fun, and high-quality tracks.</p>
                                    <p class="about-text">Thanks to this, you can enjoy unlimited music without ever paying a dime and without any ads interrupting your flow. Discover your favorite tunes and let the beats carry you, anytime and endlessly!</p>
                                    <p class="about-text">SilentGroove is all about giving you a seamless music experience, free and infinite. Sit back, relax, and let the music play!</p>
                                    `;
            break;
        case 'contact':
            mainContent.innerHTML = `<h1>Contact Us</h1>
                                     <p>Send us an email at: <a href="mailto:arthurlouette12@gmail.com">arthurlouette12@gmail.com</a></p>`;
            break;
        case 'library':
            mainContent.innerHTML = `<h1>Music Library</h1>
                                     <div class="gallery" id="gallery-container"></div>`;
            loadGallery();
            break;
    }
}

// Load home by default
loadPage('home');
</script>

</body>
</html>